!function($){"use strict";var s="",a;$(document).on("rendered.freundschaft",function(){var e=$(".fs-disabled"),o=[];!1===a&&e.removeClass("fs-disabled").addClass("fs-login"),e.each(function(s,a){o.push($(a).attr("data-author-id"))}),o.length&&$.post(FreundschaftFollow.endpoint,{action:FreundschaftFollow.actions.fs_status,author_ids:o}).done(function(o){if(o.logged_in){for(var l in o.users)if(o.users.hasOwnProperty(l)){var n=l.replace(/user_/,"");$(".fs-btn[data-author-id="+n+"]").removeClass("fs-disabled").addClass(o.users[l]?"fs-following":"fs-follow")}s=o.nonce}else e.removeClass("fs-disabled").addClass("fs-login"),a=!1}).fail(function(s,a,e){alert(e)})}),$(window).ready(function(){$(document).trigger("rendered.freundschaft")}),$(document).on("click",".fs-btn",function(a){var e=$(this),o=e.attr("data-author-id");e.hasClass("fs-disabled")?a.preventDefault():e.hasClass("fs-follow")?(a.preventDefault(),e.removeClass("fs-follow").addClass("fs-disabled"),$.post(FreundschaftFollow.endpoint,{action:FreundschaftFollow.actions.fs_follow,user_id:o,_wpnonce:s}).done(function(s){s.success?e.removeClass("fs-disabled").addClass("fs-following"):(e.removeClass("fs-disabled").addClass("fs-follow"),alert(s.message))}).fail(function(s,a,o){e.removeClass("fs-disabled").addClass("fs-follow")})):e.hasClass("fs-following")&&(a.preventDefault(),e.removeClass("fs-following").addClass("fs-disabled"),$.post(FreundschaftFollow.endpoint,{action:FreundschaftFollow.actions.fs_unfollow,user_id:o,_wpnonce:s}).done(function(s){s.success?e.removeClass("fs-disabled").addClass("fs-follow"):(e.removeClass("fs-disabled").addClass("fs-following"),alert(s.message))}).fail(function(s,a,o){e.removeClass("fs-disabled").addClass("fs-following")}))}),$(document).on("click",".fs-more-btn",function(s){s.preventDefault();var a=$(this),e=a.attr("href")+"&offset="+a.attr("data-offset");a.hasClass("loading")||(a.addClass("loading"),$.get(e).done(function(s){a.before(s.html),a.attr("data-offset",s.offset),$(document).trigger("rendered.freundschaft")}).fail(function(s,a,e){alert(e)}).always(function(){a.removeClass("loading")}))})}(jQuery);
//# sourceMappingURL=./follow.min.js.map