!function(a){"use strict";console.log("hoge");var b,c="";a(document).on("rendered.freundschaft",function(){var d=a(".fs-disabled"),e=[];!1===b&&d.removeClass("fs-disabled").addClass("fs-login"),d.each(function(b,c){e.push(a(c).attr("data-author-id"))}),e.length&&a.post(FreundschaftFollow.endpoint,{action:FreundschaftFollow.actions.fs_status,author_ids:e}).done(function(e){if(e.logged_in){for(var f in e.users)if(e.users.hasOwnProperty(f)){var g=f.replace(/user_/,"");a(".fs-btn[data-author-id="+g+"]").removeClass("fs-disabled").addClass(e.users[f]?"fs-following":"fs-follow")}c=e.nonce}else d.removeClass("fs-disabled").addClass("fs-login"),b=!1}).fail(function(a,b,c){alert(c)})}),a(window).ready(function(){a(document).trigger("rendered.freundschaft")}),a(document).on("click",".fs-btn",function(b){var d=a(this),e=d.attr("data-author-id");d.hasClass("fs-disabled")?b.preventDefault():d.hasClass("fs-follow")?(b.preventDefault(),d.removeClass("fs-follow").addClass("fs-disabled"),a.post(FreundschaftFollow.endpoint,{action:FreundschaftFollow.actions.fs_follow,user_id:e,_wpnonce:c}).done(function(a){a.success?d.removeClass("fs-disabled").addClass("fs-following"):(d.removeClass("fs-disabled").addClass("fs-follow"),alert(a.message))}).fail(function(){d.removeClass("fs-disabled").addClass("fs-follow")})):d.hasClass("fs-following")&&(b.preventDefault(),d.removeClass("fs-following").addClass("fs-disabled"),a.post(FreundschaftFollow.endpoint,{action:FreundschaftFollow.actions.fs_unfollow,user_id:e,_wpnonce:c}).done(function(a){a.success?d.removeClass("fs-disabled").addClass("fs-follow"):(d.removeClass("fs-disabled").addClass("fs-following"),alert(a.message))}).fail(function(){d.removeClass("fs-disabled").addClass("fs-following")}))}),a(document).on("click",".fs-more-btn",function(b){b.preventDefault();var c=a(this),d=c.attr("href")+"&offset="+c.attr("data-offset");c.hasClass("loading")||(c.addClass("loading"),a.get(d).done(function(b){c.before(b.html),c.attr("data-offset",b.offset),a(document).trigger("rendered.freundschaft")}).fail(function(a,b,c){alert(c)}).always(function(){c.removeClass("loading")}))})}(jQuery);
//# sourceMappingURL=follow.min.js.map